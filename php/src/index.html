<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KMITL News</title>
    <link rel="stylesheet" href="stylesV2.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Kanit:wght@400;700&family=Poppins:wght@400;700&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
</head>

<body>

    <!-- หน้าจอใหญ่ -->
    <div id="fullUI">
        <nav class="navbar sticky-top">
            <div class="container-fluid">
                <form class="d-flex ms-auto search-form">
                    <div class="input-group">
                        <input id="searchInput" class="form-control" type="search" placeholder="ค้นหา" aria-label="Search">
                        <button class="btn btn-outline-success" type="button" onclick="searchNews()">
                            <i class="fa-solid fa-magnifying-glass"></i>
                        </button>
                    </div>
                    <button class="btn btn-primary ms-2" type="button" onclick="window.location.href=window.location.origin + '/login.html'">
                        <i class="fa-solid fa-user"></i>
                    </button>
                </form>
            </div>
        </nav>
        
        <div class="title">
            <h1>KMITL News</h1>
            <p>ข่าวประชาสัมพันธ์</p>
        </div>

        <ul class="nav nav-pills rounded" id="categoryTabs">
            <li class="nav-item">
                <a class="nav-link active" id="pills-home-tab" href="#" onclick="loadNews('news')">KMITL News</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="pills-profile-tab" href="#" onclick="loadFacebook()">Facebook</a>
            </li>
        </ul>        

        <div id="news-container" class="news-carousel">
            <!-- ดึงข่าวจาก DB ใช้ฟังก์ชันใน JS -->
        </div>

        <!-- Modal (Pop-up) สำหรับอ่านข่าว -->
        <div id="newsModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span> <!-- ปุ่มปิด -->
                <h3 id="modalTitle" class="modal-title"></h3>
                <img id="modalImage" src="" alt="ข่าว" class="modal-image">
                <div id="modalBody" class="modal-body"></div>
                <p id="modalCategory" class="modal-category"></p>
                <p id="modalDate"></p>
                
            </div>
        </div>


        <!-- Facebook Page Timeline -->
        <div id="facebook-container" class="tab-content" style="display: none;">
            <div id="fb-root"></div>
            <script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v17.0"></script>
            <script>
                window.fbAsyncInit = function() {
                    FB.init({
                        xfbml: true,
                        version: 'v17.0'
                    });
                };
            </script>
            <div class="fb-page" 
                 data-href="https://www.facebook.com/KMITLPrinceofChumphon" 
                 data-tabs="timeline" 
                 data-width="500" 
                 data-height="1000" 
                 data-small-header="false" 
                 data-adapt-container-width="true" 
                 data-hide-cover="false" 
                 data-show-facepile="true">
                <blockquote cite="https://www.facebook.com/KMITLPrinceofChumphon" class="fb-xfbml-parse-ignore">
                    <a href="https://www.facebook.com/KMITLPrinceofChumphon">Facebook</a>
                </blockquote>
            </div>
        </div>
    </div>

    <!-- หน้าจอเล็ก -->
    <div id="notificationUI" style="display: none;">
        <div class="notification-header">
            <h2>KMITL News</h2>
        </div>

        
        <ul class="nav nav-pills rounded noti-category-tabs" id="categoryTabsNoti">
            <li class="nav-item">
                <a class="nav-link active" id="pills-home-tab-noti" href="#" onclick="loadNews('news', true)">KMITL News</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="pills-profile-tab-noti" href="#" onclick="loadFacebook(true)">Facebook</a>
            </li>
        </ul>

        <div class="news-list" id="news-container-noti">
            <!-- ดึงข่าวจาก DB ใช้ฟังก์ชันใน JS -->
        </div>

        <!-- Facebook Page Timeline สำหรับหน้าจอเล็ก -->
        <div id="facebook-container-noti" class="tab-content" style="display: none;">
            <div class="fb-page" 
                 data-href="https://www.facebook.com/KMITLPrinceofChumphon" 
                 data-tabs="timeline" 
                 data-width="500" 
                 data-height="700" 
                 data-small-header="false" 
                 data-adapt-container-width="true" 
                 data-hide-cover="false" 
                 data-show-facepile="true">
                <blockquote cite="https://www.facebook.com/KMITLPrinceofChumphon" class="fb-xfbml-parse-ignore">
                    <a href="https://www.facebook.com/KMITLPrinceofChumphon">Facebook</a>
                </blockquote>
            </div>
        </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="script.js"></script>
</body>
</html>